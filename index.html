<ul id="pointList"></ul>
<script>
const input = document.getElementById("pointInput");
const saveBtn = document.getElementById("saveBtn");
const list = document.getElementById("pointList");

// 保存済みポイントを読み込む
let savedPoints = JSON.parse(localStorage.getItem("points") || "[]");
savedPoints.forEach(p => addPointToList(p.text, p.date));

// 関数：リストに追加
function addPointToList(text, date) {
  const li = document.createElement("li");
  li.textContent = `${date} - ${text} `;

  const delBtn = document.createElement("button");
  delBtn.textContent = "削除";
  delBtn.style.marginLeft = "10px";
  delBtn.addEventListener("click", () => {
    list.removeChild(li);
    savedPoints = savedPoints.filter(item => !(item.text === text && item.date === date));
    localStorage.setItem("points", JSON.stringify(savedPoints));
  });

  li.appendChild(delBtn);
  list.appendChild(li);
}

// 保存ボタン
saveBtn.addEventListener("click", () => {
  const value = input.value.trim();
  if(!value) return;

  const today = new Date();
  const dateStr = `${today.getFullYear()}-${today.getMonth()+1}-${today.getDate()}`;

  addPointToList(value, dateStr);

  savedPoints.push({text: value, date: dateStr});
  localStorage.setItem("points", JSON.stringify(savedPoints));

  input.value = "";
});
</script>
